<tool id="SigiHMM" name="SigiHMM" version="4.0.0" profile="16.04">
    <requirements>
        <requirement type="package" version="4.0">colombo</requirement>
    </requirements>
    <version_command><![CDATA[ echo "4.0" ]]></version_command>
    <command detect_errors="exit_code"><![CDATA[
        {#import os }
        {#set input_l=$os.path.basename($input)+".embl" }
        {#set output_l=$os.path.basename($input)+".embl" }
        ln -s "$input" "$input_l"
        && ln -s "$output" "$output_l"
        #if $cut
            {#set cut_l=$os.path.basename($cut)+".cut" }
            && ln -s "$cut" "$cut_l"
        #end if
        #if $gff
            {#set gff_l=$os.path.basename($gff)+".gff" }
            && ln -s "$gff" "$gff_l"
        #end if
        && SigiHMM input="$input_l" output="$output_l" sens=$sens outlier=$outlier phx=$phx join=$join
        #if $cut
            cut="$cut_l"
        #end if
        #if $gff
            gff="$gff_l"
        #end if
    ]]></command>
    <inputs>
        <param type="data" format="embl" name="input" argument="input" label="Input" optional="false" help="" />
        <param type="data" format="cut" name="cut" argument="cut" label="Donor candidates CUT file" optional="true" help="" />
        <param type="float" name="sens" argument="sens" label="PUTAL Sensitivity" optional="false" min="0" max="1.0" value="0.7" help="" />
        <param type="boolean" name="outlier" argument="outlier" label="Assess Outliers" optional="false" truevalue="Yes" falsevalue="No" checked="false" help="" />
        <param type="boolean" name="phx" argument="phx" label="Assess PHX" optional="false" truevalue="Yes" falsevalue="No" checked="true" help="" />
        <param type="select" name="join" argument="join" label="Merge Islands Of Distance" optional="false" help="" >
            <option value="0">0</option>
            <option value="1" selected="true">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </param>
    </inputs>
    <outputs>
        <data format="embl" name="output" metadata_source="input" />
        <data format="gff" name="gff" />
    </outputs>
    <!-- TODO tests -->
    <help><![CDATA[
        https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-7-142
    ]]></help>
    <citations>
        <citation type="doi">10.1186/1471-2105-7-142</citation>
    </citations>
</tool>
