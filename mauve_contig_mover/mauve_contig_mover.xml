<tool id="mauve-contig-mover" name="Mauve Contig Mover" version="1.0" profile="16.04">
    <requirements>
        <requirement type="package">mauve</requirement>
    </requirements>
    <command><![CDATA[
        MauveCM -output output -ref $ref -draft $draft &&
        ln -s output/`ls -1 output | tail -n1` final &&
        ln -s `ls -1 -I '*.*' final | tail -n1` final.merged &&
        ln -s `ls -1 final/*.fas | tail -n1` final.reordered &&
        ln -s `ls -1 final/*.backbone | tail -n1` final.backbone &&
        ln -s `ls -1 final/*.tab | tail -n1` final.tab
    ]]></command>
    <inputs>
        <param name="draft" type="data" format="genbank,fasta" label="Draft" />
        <param name="ref" type="data" format="genbank,fasta" label="Reference" />
    </inputs>
    <outputs>
        <data name="merged" format="fasta" from_work_dir="final.merged" label="${tool.name} on ${on_string}: Merged" />
        <data name="reordered" format="fasta" from_work_dir="final.reordered" label="${tool.name} on ${on_string}: Reordered" />
        <data name="backbone" format="tabular" from_work_dir="final.backbone" label="${tool.name} on ${on_string}: Backbone" />
        <data name="tab" format="tabular" from_work_dir="final.tab" label="${tool.name} on ${on_string}: Contig Order" />
    </outputs>
</tool>
